language: python
python: 2.7
env:
  - TOX_ENV=flake8

  - TOX_ENV=pypy   COV_CORE_DEP=cov-core
  - TOX_ENV=pypy3  COV_CORE_DEP=cov-core
  - TOX_ENV=py26   COV_CORE_DEP=cov-core
  - TOX_ENV=py27   COV_CORE_DEP=cov-core
  - TOX_ENV=py32   COV_CORE_DEP=cov-core
  - TOX_ENV=py33   COV_CORE_DEP=cov-core
  - TOX_ENV=py34   COV_CORE_DEP=cov-core

  - TOX_ENV=pypy   COV_CORE_DEP=../cov-core
  - TOX_ENV=pypy3  COV_CORE_DEP=../cov-core
  - TOX_ENV=py26   COV_CORE_DEP=../cov-core
  - TOX_ENV=py27   COV_CORE_DEP=../cov-core
  - TOX_ENV=py32   COV_CORE_DEP=../cov-core
  - TOX_ENV=py33   COV_CORE_DEP=../cov-core
  - TOX_ENV=py34   COV_CORE_DEP=../cov-core

install:
  - pip install tox

script:
  - cd pytest-cov && tox -e $TOX_ENV

notifications:
  email:
    on_success: never
    on_failure: change
